EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L pspice:MNMOS M?
U 1 1 610F10CA
P 7550 3550
F 0 "M?" H 7838 3596 50  0000 L CNN
F 1 "MNMOS" H 7838 3505 50  0000 L CNN
F 2 "" H 7525 3550 50  0001 C CNN
F 3 "~" H 7525 3550 50  0001 C CNN
	1    7550 3550
	1    0    0    -1  
$EndComp
$Comp
L Sensor_Current:ACS758xCB-150U-PFF U?
U 1 1 610F1FA1
P 7000 2750
F 0 "U?" H 7250 2500 50  0000 C CNN
F 1 "ACS758xCB-150U-PFF" H 7550 3000 50  0000 C CNN
F 2 "Sensor_Current:Allegro_CB_PFF" H 7000 2750 50  0001 C CNN
F 3 "http://www.allegromicro.com/~/media/Files/Datasheets/ACS758-Datasheet.ashx?la=en" H 7000 2750 50  0001 C CNN
	1    7000 2750
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7650 3750 7650 3850
Wire Wire Line
	7750 3750 7750 3850
Wire Wire Line
	7750 3850 7650 3850
Connection ~ 7650 3850
Wire Wire Line
	7650 3850 7650 3950
Wire Wire Line
	7400 2850 7650 2850
Wire Wire Line
	7650 2850 7650 3350
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 610F7A5E
P 5700 1700
F 0 "J?" H 5618 1375 50  0000 C CNN
F 1 "Load In" H 5618 1466 50  0000 C CNN
F 2 "" H 5700 1700 50  0001 C CNN
F 3 "~" H 5700 1700 50  0001 C CNN
	1    5700 1700
	-1   0    0    1   
$EndComp
Wire Wire Line
	5900 1600 7650 1600
Wire Wire Line
	7650 1600 7650 2650
Wire Wire Line
	7650 2650 7400 2650
Text GLabel 5900 1700 2    50   Input ~ 0
RETURN
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 610F9083
P 9850 1200
F 0 "J?" H 9768 875 50  0000 C CNN
F 1 "5V Power" H 9768 966 50  0000 C CNN
F 2 "" H 9850 1200 50  0001 C CNN
F 3 "~" H 9850 1200 50  0001 C CNN
	1    9850 1200
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 610F9C63
P 10150 1300
F 0 "#PWR?" H 10150 1050 50  0001 C CNN
F 1 "GND" H 10155 1127 50  0000 C CNN
F 2 "" H 10150 1300 50  0001 C CNN
F 3 "" H 10150 1300 50  0001 C CNN
	1    10150 1300
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 610FA16B
P 10150 1000
F 0 "#PWR?" H 10150 850 50  0001 C CNN
F 1 "+5V" H 10165 1173 50  0000 C CNN
F 2 "" H 10150 1000 50  0001 C CNN
F 3 "" H 10150 1000 50  0001 C CNN
	1    10150 1000
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 610FAA74
P 7000 2350
F 0 "#PWR?" H 7000 2200 50  0001 C CNN
F 1 "+5V" H 7015 2523 50  0000 C CNN
F 2 "" H 7000 2350 50  0001 C CNN
F 3 "" H 7000 2350 50  0001 C CNN
	1    7000 2350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 610FB8A6
P 7000 3150
F 0 "#PWR?" H 7000 2900 50  0001 C CNN
F 1 "GND" H 7005 2977 50  0000 C CNN
F 2 "" H 7000 3150 50  0001 C CNN
F 3 "" H 7000 3150 50  0001 C CNN
	1    7000 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	7000 2350 7000 2450
Wire Wire Line
	7000 3050 7000 3150
Text GLabel 7650 3950 3    50   Input ~ 0
RETURN
$Comp
L power:GND #PWR?
U 1 1 610FC0E8
P 7450 4000
F 0 "#PWR?" H 7450 3750 50  0001 C CNN
F 1 "GND" H 7455 3827 50  0000 C CNN
F 2 "" H 7450 4000 50  0001 C CNN
F 3 "" H 7450 4000 50  0001 C CNN
	1    7450 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 3850 7650 3850
Wire Wire Line
	10050 1100 10150 1100
Wire Wire Line
	10150 1100 10150 1000
Wire Wire Line
	10050 1200 10150 1200
Wire Wire Line
	10150 1200 10150 1300
Text Notes 6300 2650 0    50   ~ 0
26.7mV/A
$Comp
L Amplifier_Operational:OPA2277 U?
U 3 1 61101BF2
P 10800 1200
F 0 "U?" H 10758 1246 50  0000 L CNN
F 1 "OPA2277" H 10758 1155 50  0000 L CNN
F 2 "" H 10800 1200 50  0001 C CNN
F 3 "https://www.ti.com/lit/ds/symlink/opa2277.pdf" H 10800 1200 50  0001 C CNN
	3    10800 1200
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 61108070
P 10700 800
F 0 "#PWR?" H 10700 650 50  0001 C CNN
F 1 "+5V" H 10715 973 50  0000 C CNN
F 2 "" H 10700 800 50  0001 C CNN
F 3 "" H 10700 800 50  0001 C CNN
	1    10700 800 
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61108537
P 10700 1600
F 0 "#PWR?" H 10700 1350 50  0001 C CNN
F 1 "GND" H 10705 1427 50  0000 C CNN
F 2 "" H 10700 1600 50  0001 C CNN
F 3 "" H 10700 1600 50  0001 C CNN
	1    10700 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	10700 800  10700 900 
Wire Wire Line
	10700 1500 10700 1600
Text Notes 6350 2900 0    50   ~ 0
0.6V Min
$Comp
L power:GND #PWR?
U 1 1 6110D97B
P 4600 3350
F 0 "#PWR?" H 4600 3100 50  0001 C CNN
F 1 "GND" H 4605 3177 50  0000 C CNN
F 2 "" H 4600 3350 50  0001 C CNN
F 3 "" H 4600 3350 50  0001 C CNN
	1    4600 3350
	1    0    0    -1  
$EndComp
Text GLabel 6350 2750 0    50   Input ~ 0
Vout
Wire Wire Line
	6350 2750 6600 2750
$Comp
L power:+5V #PWR?
U 1 1 6111B03E
P 4600 2350
F 0 "#PWR?" H 4600 2200 50  0001 C CNN
F 1 "+5V" H 4615 2523 50  0000 C CNN
F 2 "" H 4600 2350 50  0001 C CNN
F 3 "" H 4600 2350 50  0001 C CNN
	1    4600 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 3650 5150 3650
Wire Wire Line
	4950 3450 5150 3450
Text GLabel 5050 3650 0    50   Input ~ 0
Vout
$Comp
L Amplifier_Operational:OPA2277 U?
U 1 1 610FE46F
P 5450 3550
F 0 "U?" H 5650 3650 50  0000 C CNN
F 1 "OPA2277" H 5800 3500 50  0000 C CNN
F 2 "" H 5450 3550 50  0001 C CNN
F 3 "https://www.ti.com/lit/ds/symlink/opa2277.pdf" H 5450 3550 50  0001 C CNN
	1    5450 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 3850 7450 4000
Wire Wire Line
	5750 3550 7350 3550
$Comp
L Device:R R?
U 1 1 61131D4B
P 4600 2550
F 0 "R?" H 4670 2596 50  0000 L CNN
F 1 "R" H 4670 2505 50  0000 L CNN
F 2 "" V 4530 2550 50  0001 C CNN
F 3 "~" H 4600 2550 50  0001 C CNN
	1    4600 2550
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 61132207
P 4600 3150
F 0 "R?" H 4670 3196 50  0000 L CNN
F 1 "R" H 4670 3105 50  0000 L CNN
F 2 "" V 4530 3150 50  0001 C CNN
F 3 "~" H 4600 3150 50  0001 C CNN
	1    4600 3150
	1    0    0    -1  
$EndComp
$Comp
L Electronic~Load:MCP4551 U?
U 1 1 6113432E
P 3650 2400
F 0 "U?" H 3450 2300 50  0000 C CNN
F 1 "MCP4551" H 3600 1650 50  0000 C CNN
F 2 "" H 3650 2400 50  0001 C CNN
F 3 "" H 3650 2400 50  0001 C CNN
	1    3650 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 2350 4600 2400
Wire Wire Line
	4600 2700 4300 2700
Wire Wire Line
	4300 3000 4600 3000
Wire Wire Line
	4600 3300 4600 3350
Wire Wire Line
	4300 2850 4950 2850
Wire Wire Line
	4950 2850 4950 3450
$Comp
L power:+5V #PWR?
U 1 1 61138DB7
P 1350 700
F 0 "#PWR?" H 1350 550 50  0001 C CNN
F 1 "+5V" H 1365 873 50  0000 C CNN
F 2 "" H 1350 700 50  0001 C CNN
F 3 "" H 1350 700 50  0001 C CNN
	1    1350 700 
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61139303
P 1350 2600
F 0 "#PWR?" H 1350 2350 50  0001 C CNN
F 1 "GND" H 1355 2427 50  0000 C CNN
F 2 "" H 1350 2600 50  0001 C CNN
F 3 "" H 1350 2600 50  0001 C CNN
	1    1350 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 2550 1350 2600
Wire Wire Line
	1350 700  1350 750 
$Comp
L Device:Rotary_Encoder_Switch SW?
U 1 1 6113C211
P 1700 3350
F 0 "SW?" H 1700 3717 50  0000 C CNN
F 1 "Rotary_Encoder_Switch" H 1700 3626 50  0000 C CNN
F 2 "" H 1550 3510 50  0001 C CNN
F 3 "~" H 1700 3610 50  0001 C CNN
	1    1700 3350
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 6113D0A6
P 700 3300
F 0 "#PWR?" H 700 3150 50  0001 C CNN
F 1 "+5V" H 715 3473 50  0000 C CNN
F 2 "" H 700 3300 50  0001 C CNN
F 3 "" H 700 3300 50  0001 C CNN
	1    700  3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	700  3300 700  3350
Text GLabel 1050 3450 0    50   Input ~ 0
EncB
Wire Wire Line
	1050 3250 1200 3250
Wire Wire Line
	1050 3450 1200 3450
$Comp
L power:GND #PWR?
U 1 1 61141B6B
P 2100 3500
F 0 "#PWR?" H 2100 3250 50  0001 C CNN
F 1 "GND" H 2105 3327 50  0000 C CNN
F 2 "" H 2100 3500 50  0001 C CNN
F 3 "" H 2100 3500 50  0001 C CNN
	1    2100 3500
	1    0    0    -1  
$EndComp
Text GLabel 2100 3250 2    50   Input ~ 0
Enc_SW
Wire Wire Line
	2000 3250 2100 3250
Wire Wire Line
	2000 3450 2100 3450
Wire Wire Line
	2100 3450 2100 3500
Text GLabel 2050 1550 2    50   Input ~ 0
MISO
Text GLabel 2050 1250 2    50   Input ~ 0
EncB
Text GLabel 2050 1350 2    50   Input ~ 0
Enc_SW
Text GLabel 2050 1050 2    50   Input ~ 0
Vout
Wire Wire Line
	1950 1550 2050 1550
Wire Wire Line
	2050 1650 1950 1650
Wire Wire Line
	1950 1450 2050 1450
Wire Wire Line
	1950 1050 2050 1050
Wire Wire Line
	1950 1350 2050 1350
Wire Wire Line
	1950 1250 2050 1250
Text GLabel 2050 1650 2    50   Input ~ 0
SDA_MOSI
Text GLabel 2050 1450 2    50   Input ~ 0
SCL
Text GLabel 1050 3250 0    50   Input ~ 0
EncA
Wire Wire Line
	700  3350 1400 3350
$Comp
L power:+5V #PWR?
U 1 1 6114D187
P 3800 2350
F 0 "#PWR?" H 3800 2200 50  0001 C CNN
F 1 "+5V" H 3815 2523 50  0000 C CNN
F 2 "" H 3800 2350 50  0001 C CNN
F 3 "" H 3800 2350 50  0001 C CNN
	1    3800 2350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 6114D51E
P 3800 3300
F 0 "#PWR?" H 3800 3050 50  0001 C CNN
F 1 "GND" H 3805 3127 50  0000 C CNN
F 2 "" H 3800 3300 50  0001 C CNN
F 3 "" H 3800 3300 50  0001 C CNN
	1    3800 3300
	1    0    0    -1  
$EndComp
$Comp
L MCU_Microchip_ATtiny:ATtiny84-20SSU U?
U 1 1 6114EFE8
P 1350 1650
F 0 "U?" H 1000 2400 50  0000 R CNN
F 1 "ATtiny84-20SSU" V 800 1450 50  0000 R CNN
F 2 "Package_SO:SOIC-14_3.9x8.7mm_P1.27mm" H 1350 1650 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/doc8006.pdf" H 1350 1650 50  0001 C CNN
	1    1350 1650
	1    0    0    -1  
$EndComp
Text GLabel 2050 1150 2    50   Input ~ 0
EncA
Wire Wire Line
	1950 1150 2050 1150
Text GLabel 2050 2250 2    50   Input ~ 0
RESET
Wire Wire Line
	1950 2250 2050 2250
$Comp
L Device:R R?
U 1 1 611615DB
P 1550 3800
F 0 "R?" V 1757 3800 50  0000 C CNN
F 1 "10k" V 1666 3800 50  0000 C CNN
F 2 "" V 1480 3800 50  0001 C CNN
F 3 "~" H 1550 3800 50  0001 C CNN
	1    1550 3800
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 61161E1A
P 950 3000
F 0 "R?" V 1157 3000 50  0000 C CNN
F 1 "10k" V 1066 3000 50  0000 C CNN
F 2 "" V 880 3000 50  0001 C CNN
F 3 "~" H 950 3000 50  0001 C CNN
	1    950  3000
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61163EA0
P 700 2900
F 0 "#PWR?" H 700 2650 50  0001 C CNN
F 1 "GND" H 705 2727 50  0000 C CNN
F 2 "" H 700 2900 50  0001 C CNN
F 3 "" H 700 2900 50  0001 C CNN
	1    700  2900
	-1   0    0    1   
$EndComp
Wire Wire Line
	700  2900 700  3000
Wire Wire Line
	700  3000 800  3000
Wire Wire Line
	1100 3000 1200 3000
Wire Wire Line
	1200 3000 1200 3250
Connection ~ 1200 3250
Wire Wire Line
	1200 3250 1400 3250
Wire Wire Line
	1400 3800 1200 3800
Wire Wire Line
	1200 3800 1200 3450
Connection ~ 1200 3450
Wire Wire Line
	1200 3450 1400 3450
$Comp
L power:GND #PWR?
U 1 1 61167760
P 1750 3850
F 0 "#PWR?" H 1750 3600 50  0001 C CNN
F 1 "GND" H 1755 3677 50  0000 C CNN
F 2 "" H 1750 3850 50  0001 C CNN
F 3 "" H 1750 3850 50  0001 C CNN
	1    1750 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 3800 1750 3800
Wire Wire Line
	1750 3800 1750 3850
$Comp
L Device:LED D?
U 1 1 61169990
P 2800 1950
F 0 "D?" H 2793 1695 50  0000 C CNN
F 1 "Red" H 2793 1786 50  0000 C CNN
F 2 "" H 2800 1950 50  0001 C CNN
F 3 "~" H 2800 1950 50  0001 C CNN
	1    2800 1950
	-1   0    0    1   
$EndComp
$Comp
L Device:R R?
U 1 1 6116A907
P 2250 1950
F 0 "R?" V 2350 2050 50  0000 C CNN
F 1 "220" V 2350 1900 50  0000 C CNN
F 2 "" V 2180 1950 50  0001 C CNN
F 3 "~" H 2250 1950 50  0001 C CNN
	1    2250 1950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1950 1950 2100 1950
Wire Wire Line
	2400 1950 2650 1950
$Comp
L power:GND #PWR?
U 1 1 6116DD1C
P 3050 2000
F 0 "#PWR?" H 3050 1750 50  0001 C CNN
F 1 "GND" H 3055 1827 50  0000 C CNN
F 2 "" H 3050 2000 50  0001 C CNN
F 3 "" H 3050 2000 50  0001 C CNN
	1    3050 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2950 1950 3050 1950
Wire Wire Line
	3050 1950 3050 2000
Text GLabel 3200 2850 0    50   Input ~ 0
SCL
Text GLabel 3200 2950 0    50   Input ~ 0
SDA_MOSI
Wire Wire Line
	3200 2850 3300 2850
Wire Wire Line
	3300 2950 3200 2950
$EndSCHEMATC
